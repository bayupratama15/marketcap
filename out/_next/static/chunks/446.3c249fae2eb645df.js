(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446,707,511],{37355:function(t,e,n){"use strict";n.r(e),n.d(e,{PhantomAdapter:function(){return j}});var r=n(4942),i=(n(88473),n(15048),n(17187));n(4445),n(79826),n(12840),n(30778),n(74286);function o(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout((()=>{throw r}))}}class a extends i.EventEmitter{emit(t){let e="error"===t;const n=this._events;if(void 0!==n)e=e&&void 0===n.error;else if(!e)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(e){let t;if(i.length>0&&([t]=i),t instanceof Error)throw t;const e=new Error("Unhandled error.".concat(t?" (".concat(t.message,")"):""));throw e.context=t,e}const c=n[t];if(void 0===c)return!1;if("function"===typeof c)o(c,this,i);else{const t=c.length,e=function(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}(c);for(let n=0;n<t;n+=1)o(e[n],this,i)}return!0}}Error;Symbol("IGNORE_SUBSTREAM");var c=n(13631),s=n(2043),l=n.n(s);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const p={EIP155:"eip155",SOLANA:"solana"},u=d(d({},p),{},{MULTICHAIN:"multichain"}),m="776218ac4734478c90191dde8cae483c",f=(t,e)=>{const n=e?"number"===typeof e?e:parseInt(e,16):(t=>{if(t===p.EIP155)return 1;if(t===p.SOLANA)return 1;throw new Error("Chain namespace ".concat(t," is not supported"))})(t);return t===p.EIP155?(t=>{const e=p.EIP155;return 1===t?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://mainnet.infura.io/v3/".concat(m),displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:3===t?{chainNamespace:e,chainId:"0x3",rpcTarget:"https://ropsten.infura.io/v3/".concat(m),displayName:"ropsten",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:4===t?{chainNamespace:e,chainId:"0x4",rpcTarget:"https://rinkeby.infura.io/v3/".concat(m),displayName:"rinkeby",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:5===t?{chainNamespace:e,chainId:"0x5",rpcTarget:"https://goerli.infura.io/v3/".concat(m),displayName:"goerli",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:42===t?{chainNamespace:e,chainId:"0x2a",rpcTarget:"https://kovan.infura.io/v3/".concat(m),displayName:"kovan",blockExplorer:"https://kovan.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:137===t?{chainNamespace:e,rpcTarget:"https://polygon-rpc.com",blockExplorer:"https://polygonscan.com",chainId:"0x89",displayName:"Polygon Mainnet",ticker:"matic",tickerName:"matic"}:80001===t?{chainNamespace:e,rpcTarget:"https://rpc-mumbai.maticvigil.com",blockExplorer:"https://mumbai-explorer.matic.today",chainId:"0x13881",displayName:"Polygon Mumbai Testnet",ticker:"matic",tickerName:"matic"}:56===t?{chainNamespace:e,rpcTarget:"https://bsc-dataseed.binance.org",blockExplorer:"https://bscscan.com",chainId:"0x38",displayName:"Binance SmartChain Mainnet",ticker:"BNB",tickerName:"BNB"}:97===t?{chainNamespace:e,rpcTarget:"https://data-seed-prebsc-2-s3.binance.org:8545",blockExplorer:"https://testnet.bscscan.com",chainId:"0x61",displayName:"Binance SmartChain Testnet",ticker:"BNB",tickerName:"BNB"}:null})(n):t===p.SOLANA?(t=>{const e=p.SOLANA;return 1===t?{chainNamespace:e,blockExplorer:"https://explorer.solana.com",chainId:"0x1",displayName:"Solana Mainnet",rpcTarget:"https://api.mainnet-beta.solana.com",ticker:"SOL",tickerName:"Solana Token"}:2===t?{rpcTarget:"https://api.testnet.solana.com",blockExplorer:"https://explorer.solana.com?cluster=testnet",chainId:"0x2",chainNamespace:e,displayName:"testnet",ticker:"SOL",tickerName:"solana"}:3===t?{rpcTarget:"https://api.devnet.solana.com",blockExplorer:"https://explorer.solana.com?cluster=devnet",chainId:"0x3",chainNamespace:e,displayName:"devnet",ticker:"SOL",tickerName:"solana"}:null})(n):null};class E extends c.s{constructor(t,e){super(e),(0,r.Z)(this,"code",void 0),(0,r.Z)(this,"message",void 0),this.code=t,this.message=e||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class N extends E{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new N(t,"".concat(N.messages[t],", ").concat(e))}static notFound(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5001,t)}static notInstalled(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5002,t)}static notReady(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5003,t)}static windowBlocked(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5004,t)}static windowClosed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5005,t)}static incompatibleChainNameSpace(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5006,t)}static duplicateAdapterError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5007,t)}static invalidProviderConfigError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5008,t)}static providerNotReadyError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5009,t)}static rpcConnectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5010,t)}static invalidParams(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5011,t)}static invalidNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.fromCode(5013,t)}}(0,r.Z)(N,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class v extends E{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new v(t,"".concat(v.messages[t]).concat(e))}static connectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v.fromCode(5111,t)}static disconnectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v.fromCode(5112,t)}static notConnectedError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v.fromCode(5113,t)}static popupClosed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v.fromCode(5114,t)}}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(0,r.Z)(v,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user"});const y={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},O=g({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom"},y),C=g({TORUS_EVM:"torus-evm",METAMASK:"metamask"},y),b=g(g({},C),O);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const T="external",k={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},D=P(P({},k),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"});class _ extends a{constructor(){super(...arguments),(0,r.Z)(this,"adapterData",{}),(0,r.Z)(this,"chainConfig",null)}get chainConfigProxy(){return this.chainConfig?P({},this.chainConfig):null}setChainConfig(t){if(this.status===k.READY)return;if(!t.chainNamespace)throw N.notReady("ChainNamespace is required while setting chainConfig");const e=f(t.chainNamespace,t.chainId);this.chainConfig=P(P({},e),t)}setAdapterSettings(t){}checkConnectionRequirements(){if(this.name!==b.WALLET_CONNECT_V1||this.status!==k.CONNECTING){if(this.status===k.CONNECTING)throw N.notReady("Already connecting");if(this.status===k.CONNECTED)throw v.connectionError("Already connected");if(this.status!==k.READY)throw v.connectionError("Wallet adapter is not ready yet")}}checkInitializationRequirements(){if(this.status!==k.NOT_READY){if(this.status===k.CONNECTED)throw N.notReady("Already connected");if(this.status===k.READY)throw N.notReady("Adapter is already initialized")}}updateAdapterData(t){this.adapterData=t,this.emit(D.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:t})}}var I=l().getLogger("web3auth-logger");var R=n(83247);function x(t,e,n){return new Promise(((r,i)=>{n>0?setTimeout((async()=>{const o=await t();o&&r(o),o||x(t,e,n-1).then((t=>(r(t),t))).catch((t=>i(t)))}),e):r(!1)}))}class j extends _{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,r.Z)(this,"name",b.PHANTOM),(0,r.Z)(this,"adapterNamespace",u.SOLANA),(0,r.Z)(this,"currentChainNamespace",p.SOLANA),(0,r.Z)(this,"type",T),(0,r.Z)(this,"status",k.NOT_READY),(0,r.Z)(this,"_wallet",null),(0,r.Z)(this,"phantomProvider",null),(0,r.Z)(this,"rehydrated",!1),(0,r.Z)(this,"_onDisconnect",(()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===k.CONNECTED?k.READY:k.NOT_READY,this.emit(D.DISCONNECTED))})),this.chainConfig=t.chainConfig||null}get isWalletConnected(){var t;return!(null===(t=this._wallet)||void 0===t||!t.isConnected||this.status!==k.CONNECTED)}get provider(){var t;return(null===(t=this.phantomProvider)||void 0===t?void 0:t.provider)||null}set provider(t){throw new Error("Not implemented")}setAdapterSettings(t){}async init(t){if(super.checkInitializationRequirements(),this.chainConfig||(this.chainConfig=f(p.SOLANA,"0x1")),this._wallet=await async function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};if("undefined"!==typeof window&&null!==(t=window.solana)&&void 0!==t&&t.isPhantom)return window.solana;return await x((()=>{var t;return null===(t=window.solana)||void 0===t?void 0:t.isPhantom}),e.interval,e.count)?window.solana:null}({interval:500,count:3}),!this._wallet)throw N.notInstalled();this.phantomProvider=new R.PhantomInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=k.READY,this.emit(D.READY,b.PHANTOM);try{t.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(e){I.error("Failed to connect with cached phantom provider",e),this.emit("ERRORED",e)}}async connect(){var t=this;try{if(super.checkConnectionRequirements(),this.status=k.CONNECTING,this.emit(D.CONNECTING,{adapter:b.PHANTOM}),!this._wallet)throw N.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const n=this._wallet._handleDisconnect;try{await new Promise(((e,r)=>{if(!this._wallet)return r(N.notInstalled());this._wallet.once("connect",(async()=>{await this.connectWithProvider(this._wallet),e(this.provider)})),this._wallet._handleDisconnect=function(){r(N.windowClosed());for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.apply(t._wallet,i)},this._wallet.connect().catch((t=>{r(t)}))}))}catch(e){if(e instanceof E)throw e;throw v.connectionError(null===e||void 0===e?void 0:e.message)}finally{this._wallet._handleDisconnect=n}}if(!this._wallet.publicKey)throw v.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(e){throw this.status=k.READY,this.rehydrated=!1,this.emit(D.ERRORED,e),e}}async disconnect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(!this.isWalletConnected)throw v.notConnectedError("Not connected with wallet");try{var e;await(null===(e=this._wallet)||void 0===e?void 0:e.disconnect()),t.cleanup&&(this.status=k.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(D.DISCONNECTED)}catch(n){this.emit(D.ERRORED,v.disconnectionError(null===n||void 0===n?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw v.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async connectWithProvider(t){if(!this.phantomProvider)throw v.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(t),this.status=k.CONNECTED,this.emit(D.CONNECTED,{adapter:b.PHANTOM,reconnected:this.rehydrated}),this.provider}}},11922:function(){},22399:function(){},78848:function(){},71456:function(){}}]);